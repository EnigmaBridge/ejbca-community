EJBCA 6.3.1.1
-----------
This is the latest Community Release version of EJBCA 6.3.1. This version is identical to the publicly available code in 6.3.1, with the addition of 
a couple of essential bug fixes for regressions. 

EJBCA 6.3.1
-----------
This maintenance release contains 17 new features, bug fixes and improvements, in addition to all fixes made in 6.2.8 and 6.2.9. Below is a 
selection of the most noteworthy.

- New Features:
    *   Now possible to create CAs and issue End Entity certificates through the Web Service API.
    *   SCEP Client Certificate Renewal.
    *   Web Service API calls for monitoring certificate expiration.
    *   Single Active Certificate Constraint has been added to Certificate Profiles, allowing for automatic revocation of old certificates, as new ones are issued. 
- Improvements:
    *   All Audit Log messages have been properly JavaDoc:ed.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  A selection of known issues:
    *   External RA GUI cannot handle SubCA certificates with critical CDP: https://jira.primekey.se/browse/ECA-2138
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	Regression: Healtcheck is not enabled for new CAs by default: https://jira.primekey.se/browse/ECA-3999 
	*   CA Certificates using brainpool curves can't be imported from the ClI. GUI works though: https://jira.primekey.se/browse/ECA-4022 
	*	End entity profiles can't be deleted in high volume databases: https://jira.primekey.se/browse/ECA-4158
	* 	JDK patches for RSAWithMGF1 is not working on newer java: https://jira.primekey.se/browse/ECA-4175

EJBCA 6.2.9
-----------
This maintenance release contains 18 bug fixes and improvements, below a selection of the most noteworthy.

- Improvements:
	*	The main feature of EJBCA 6.2.9 is an optimization for certificate signing that has reduced certificate signing time with approximately 10% 
		for low workloads and 70% for intensive workloads. Numbers are compared to EJBCA 5 and EJBCA 6.
- Bug Fixes:
	*	A minor regression introduced in 6.2.7 where trying to create a Browser Certificate in the External RA GUI failed.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  A selection of known issues:
    *   External RA GUI cannot handle SubCA certificates with critical CDP: https://jira.primekey.se/browse/ECA-2138
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	Regression: Healtcheck is not enabled for new CAs by default: https://jira.primekey.se/browse/ECA-3999 
	*   CA Certificates using brainpool curves can't be imported from the ClI. GUI works though: https://jira.primekey.se/browse/ECA-4022 
	*	End entity profiles can't be deleted in high volume databases: https://jira.primekey.se/browse/ECA-4158
	* 	JDK patches for RSAWithMGF1 is not working on newer java: https://jira.primekey.se/browse/ECA-4175

EJBCA 6.2.8
-----------
The goal of this release has primarily been optimization of our OCSP responder, fixing usability issues, tightening up security and heavy GUI testing. We've 
also snuck in a brand new feature which web service users may find useful. 

This maintenance release contains 42 bug fixes, features and improvements, below a selection of the most noteworthy:

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

- Improvements:
	* OCSP responder has been widely optimized.
	* OCSP responder now caches SCTs, improving response times when using Certificate Transparency.
	* EJBCA has been upgraded to use BouncyCastle 1.51
	* HealthCheck memory monitor now reports on total amount of free memory instead of allocated free memory.
- New Features:
	* Web service calls for issuing certificates can now override EJBCA's default subject DN order with their own. 
- Bug Fixes:
	* A minor security escalation issue has been fixed affecting explicit rule access denial.
	
Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  A selection of known issues:
    *   External RA GUI cannot handle SubCA certificates with critical CDP: https://jira.primekey.se/browse/ECA-2138
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*   CA Certificates using brainpool curves can't be imported from the ClI. GUI works though: https://jira.primekey.se/browse/ECA-4022 
	*	A base64 decoder exception is thrown when inspecting a specially-crafted CSR: https://jira.primekey.se/browse/ECA-4071 

EJBCA 6.3.0 (Contains all bug fixes and improvements up until and including EJBCA 6.2.7)
-----------
EJBCA 6.3.0 introduces a powerful new feature for Enterprise and Appliance users: the EJBCA Peer System protocol. The purpose is to allow secure 
communication over TLS between peered installations of EJBCA, doing away with the need of direct database publishing in order to propagate 
certificates and certificate information. This means that direct and synchronous communication is now possible between a Certificate Authorities and 
their associated Verification Authorities, also enabling verification of synchronization status and health.

EJBCA Peer System represents a step forward in how setup up complex multi-system installations, and we have great hopes for what we will be able to 
make possible in EJBCA in the future. 

This is a major release with new features, bug fixes and improvements. All in all, 106 issues have been fixed.

* Noteworthy changes:
- Introduction of the EJBCA Peer System protocol
- Fully localized in French, thanks to David Carella of Linagora.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  A selection of known issues:
    *   External RA GUI cannot handle SubCA certificates with critical CDP https://jira.primekey.se/browse/ECA-2138
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	ant install is known to fail on Windows machines running JDK >= 7.21 https://jira.primekey.se/browse/ECA-3602 
	*   Wrong CA key used when decrypting SCEP requests https://jira.primekey.se/browse/ECA-3807'	
	*   Importing an externally produced certificate with empty DN fields fails https://jira.primekey.se/browse/ECA-4018
	*   CA Certificates using brainpool curves can't be imported from the ClI. GUI works though. https://jira.primekey.se/browse/ECA-4022 

EJBCA 6.2.7
-----------
This, the first release of 2015, is a minor release primarily geared towards optimization and stabilization of the 6.2 branch. We have primarily
optimized GUI behavior in regard to cryptotokens referencing many keys, as well as sorted out some documentation issues. QA procedures have also
been revised and improved, which is the "known issues" list below is longer than in previous releases.

All in all, 24 issues have been fixed or implemented for this release. 

Behavior of OCSP responder has been changed slightly in order to improve performance. Status of the OCSP signing certificate's CA is now only checked when the cache
is reloaded, instead of at every request. If unsure how long the timeout is set for, check the value ocsp.signingCertsValidTime in ocsp.properties.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  A selection of known issues:
    *   External RA GUI cannot handle SubCA certificates with critical CDP https://jira.primekey.se/browse/ECA-2138
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	ant install is known to fail on Windows machines running JDK >= 7.21 https://jira.primekey.se/browse/ECA-3602 
	*   Wrong CA key used when decrypting SCEP requests https://jira.primekey.se/browse/ECA-3807
	*   Importing an externally produced certificate with empty DN fields fails https://jira.primekey.se/browse/ECA-4018
	*   CA Certificates using brainpool curves can't be imported from the ClI. GUI works though. https://jira.primekey.se/browse/ECA-4022 

EJBCA 6.2.6
-----------
EJBCA 6.2.6 is a maintenance release, primarily fixing two major issues and quite a few smaller ones.

* Noteworthy changes:
- The OCSP default responder behavior introduced in 6.2.4 was buggy when CAs were set as the default responder. 
	https://jira.primekey.se/browse/ECA-3969
- Saving symmetric keys in a crypto token cause the GUI page to crash
	https://jira.primekey.se/browse/ECA-3933 
- A bug causing CertSafe publisher creation was fixed
	https://jira.primekey.se/browse/ECA-3958
- For certificate profiles only specifying a single keylength, the default keylength was used instead
	https://jira.primekey.se/browse/ECA-3935
- SSLv3 protocol has been disabled for use in JBoss7 due to the POODLE vulnerability
	https://jira.primekey.se/browse/ECA-3862

All in all, 23 issues have been fixed in this release.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	ant install is known to fail on Windows machines running JDK >= 7.21 https://jira.primekey.se/browse/ECA-3602 

EJBCA 6.2.5
-----------
This minor release mainly centers around a bug found in the upgrade procedure when automatically upgrading CATokens to modern CryptoTokens. Due to a bug in 4.0.x, 
working CATokens could be created even with incorrect configurations, and these were then incorrectly processed. Since 6.2.5 the upgrade procedure will fail gracefully, 
allowing administrators to fix the configuration before proceeding. 

Also, the CT log publisher will now use the the java system settings for http_proxy, which were previously ignored.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*   SSLv3 is still available for use, but is considered vulnerable due to the POODLE exploit

EJBCA 6.2.4
-----------
This is a maintenance release introducing two new features, foremost of which are Private Domains for the Certificate Transparency (CT) Protocol and a change
in the behavior of the OCSP default responder. All in all, 19 issues have been fixed.

* Noteworthy changes:
- The OCSP default responder is now configurable from the GUI. Old configurations in ocsp.properties will automatically be migrated, and the configuration
  line should be removed from ocsp.properties. 
- The OCSP default responder will now reply for all external CAs that don't have a specific OCSP keybinding set. See UPGRADE document and documentation 
  for further information. 
- CertSafe publisher now works in JDK6
- An annoying but harmless error message which appeared in ant install has been removed.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*   SSLv3 is still available for use, but is considered vulnerable due to the POODLE exploit

EJBCA 6.2.3
-----------
This is a maintenance release with a new feature, a couple of major and some minor bug fixes and improvements. All in all, 8 issues have been fixed.

* Noteworthy changes:
- Regression: The new Certificate Profile GUI page caused information from one profile to bleed into others due to incorrect scoping 
- Regression: The install command failed if a certificate profile or token properties file was specified in install.properties due to a couple of missing switches
- New functionality: A publisher for Cert-Safe has been implemented

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298

EJBCA 6.2.2
-----------
This is a maintenance release with one new feature, some minor bug fixes and minor improvements. All in all, 23 issues have been fixed.

* Noteworthy changes:
- The OCSP responder now supports requests containing Certificate IDs hashed in SHA256
- A minor regression where Certificate and CRL caches were not automatically refilled after server restart
- CLI no longer prompts twice when asked to prompt for the CLI password
- Several issues improving the upgrade procedure
- An information leakage issue in the public web concerning end entities sharing the same keys

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298

EJBCA 6.2.1
-----------
This is a maintenance release with only bug fixes and minor improvement. All in all, 40 issues have been fixed.

* Noteworthy changes:
- The autoactivate parameter in for the CLI command 'cryptotoken create' has been changed from "-A" to the more explicit "--autoactivate". 
- An XSS issue in the Public Web was patched
- Regression: CPS and User Notice defined in Certificate Policy Extensions weren't being written to the relevant certificates 
- Regression: Soft keystores for CAs created using the CLI were always created with the default password

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298

EJBCA 6.2.0
-----------
This is a major release with new features, bug fixes and improvements. All in all, 76 issues have been fixed.

The biggest news in this release is a rework of the local CLI (command line interface), bringing the CLI up to the most 
modern standard with option handling and manual pages. 

* Noteworthy changes:
- Completely reworked command handling of local command line interface (CLI) (See note 2)
- It's now possible to import and export Certificate and End Entity Profiles from the GUI
- VA machines can be created using a CRL
- Certificate and End Entity Profiles can now be imported and exported form the Web GUI
- SCEP configuration has been implemented from the Web GUI

Note 1: 
If you are customizing the EJBCA public web to be embedded in a frame, note that EJBCA now uses the X-FRAME-OPTIONS HTTP header, 
preventing web GUIs from being framed in modern browsers. 

Note 2: 
Some CLI commands have changed names, though legacy support for the old names still remains. Some commands have had to undergo syntax changes, and they are as follows: 
 * General 									- Explicit password flag for CLI user password has been changed to '--clipassword' 
 											- All CLI commands' help pages can be summoned with the '--help' switch
 * CaImportCACommand 						- Command performs two different tasks depending on the number of arguments, which are mostly mutually exclusive and unswitched, hence impossible to identify. 
 * CaImportCertCommand 						- The optional values e-mail, cert profile and ee profile must be used with a switch. 
 * CaInitCommand 							- The catokenproperties is now optional (no need to substitute with null if unused) 
 * CaRenewCACommand 						- The <regenerate keys> argument has been turned into a flag (-R), and a switch was added for the Custom Not Before value. 
 * InternalKeyBindingCreateCommand 			- The "--property" switch is no longer needed. Instead optional properties are loaded dynamically, but must be entered with a "-" preceding the property name. 
 * InternalKeyBindingModifyCommand 			- Multiple "--addtrust" and "--removetrust" are no longer allowed, instead a separator "," may be used. Also, the --property switch is no longer used, 
 											  instead properties are loaded dynamically and used like with InternalKeyBindingCreateCommand 
 * AddEndEntityCommand 						- Password parameter now input with --password flag, leaving blank will prompt. subjectAltName and email have been made optional and equipped with flags. 
 											  certificateprofile, endentityprofile and hardtokenissuer have been given flags. hardtokenissuer options won't appear at all unless hard tokens been turned on. 
 * Services 								- The -listFields|-listProperties switched have been turned into commands instead 
 * ServiceCreateCommand/ServiceEditCommand 	- properties are sent in as a single command instead, at least until Services can be properly refactored and made more dynamic 

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298

EJBCA 6.1.3
-----------
This is a maintenance release with only minor bug fixes. In all 4 issues have been fixed.

* Noteworthy changes:
- Fixed a small typo and some localizations in a few GUI messages. 
- Backport some fixes to the statedump command (Enterprise only).

See the notes, and known issues, for 6.1.0 below.

EJBCA 6.1.2
-----------
This is a maintenance release with only one bug fixes. In all 1 issue have been fixed.

* Noteworthy changes:
- Fixed an issue where browser enrollment link was generated with incorrect encoding

See the notes, and known issues, for 6.1.0 below.

EJBCA 6.1.1
-----------
This is a maintenance release with a few bug fixes. In all 4 issues have been fixed.
EJBCA 6.1.0 was never distributed publicly.

* Noteworthy changes:
- Fixed some regressions that prevented 6.1.0 from functioning optimally.

See the notes, and known issues, for 6.1.0 below.

EJBCA 6.1.0
-----------
This is a major release with new features, bug fixes and improvements. In all 32 issues have been fixed.
The biggest news in this release are support for EAC 2.10 access control templates, more OCSP improvements as 
well as improvements for Key Recovery. 

* Noteworthy changes:
- OCSP improvements and new features related to RFC 6960, minimizing size of OCSP responses (see note below).
- Implemented OCSP signing algorithm including client requested algorithms.
- CVC certificate profiles (ePassport PKI) now supports EAC 2.10 access control templates.
- Improvements to Key Recovery enabling encryption key rollover and providing more information about encryption keys.
- Windows build/install is now working.
- ManagementCA created during a default install now uses SHA256WithRSA.
- EJBCA now compiles (deployment/running not supported however) on WildFly 8 and Glassfish 4, also using Java 8.
- EJBCA can now use certificate serial number longer than 64 bits.
- Minor improvements and fixes to make life easier for everyone.

Note 1: OCSP responses no longer includes the Root CA Certificate, unless the Root CA is the OCSP signer, and it is configured to 
include the signer certificate. Having OCSP responses as small as possible is an important performance feature, and since the 
client must have the root certificate as trusted there is no need to include the root certificate in the chain. 

Note 2: In EJBCA 6.1.0 the Public Web interface logo filename was changed. If you have customized your own logo, you need to rename 
the logo filename from 'logotype.png' or 'ejbca_pki_by_primekey_logo.png' to 'banner_ejbca-public.png'.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	OCSP request signer verification does an additional database lookup: https://jira.primekey.se/browse/ECA-3299
	* 	Poorly created primary keys for the AdminEntityData table causes issues in some cases: https://jira.primekey.se/browse/ECA-3469

EJBCA 6.0.4
-----------
This is a maintenance release with new features, bug fixes and improvements. In all 53 issues have been fixed.
The biggest news in this release is support for Certificate Transparency in EJBCA Enterprise. 
Apart from that all issues reported from installations of EJBCA 6.0.3 has been fixed.

One of the fixes is a security fix. The security issue is rated as low, and can lead only to excessive CPU usage, if exposed to untrusted networks.

* Noteworthy changes:
- Support for Certificate Transparency, RFC6962 (EJBCA Enterprise only).
- Support for JBoss EAP 6.2 that changed default behaviour when creating datasources.
- SCEP GetCACaps command now works from iOS.
- Ensure that OCSP RFC5019 responses with nonces are not cached.
- Minor Command Line improvement.
- Fixed most issues reported from installations of EJBCA 6.0.3.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  Known issues:
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	OCSP request signer verification does an additional database lookup: https://jira.primekey.se/browse/ECA-3299
	*	Deployment on Windows does not work due to jboss-cli.bat arguments differing from jboss-cli.sh (half fixed some remaining)

EJBCA 6.0.3
-----------
This is a maintenance release with bug fixes, new features and improvements. In all 21 issues have been fixed.

* Noteworthy changes:
- Support for OCSP extended revoked status compliant with RFC6960.
- Ensure OCSP RFC5019 responses with unknown response code are not cached, compliant with CABForum discussions.
- Add OCSP archive cutoff date for expired certificates.
- Speedups starting the Command Line Interface.
- Bug fixes for Internal Key Bindings.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  Known issues:
    *   Cannot deploy with web-services disabled: https://jira.primekey.se/browse/ECA-3361
	*	Deployment on Windows does not work due to jboss-cli.bat arguments differing from jboss-cli.sh
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	OCSP request signer verification does an additional database lookup: https://jira.primekey.se/browse/ECA-3299

EJBCA 6.0.2
-----------
This is a maintenance release with bug fixes and improvements. In all 12 issues have been fixed.

* Noteworthy changes:
- Fix some issues with, and improve, OCSP signing cache reloading.
- Fix rotation of safer log4j logs.
- Support returning revoked for non issued certificates, instead of unknown (RFC6960).
- Minor CMP improvements, including full chain in responses and improve GUI.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 6.0.1
-----------
This is a maintenance release with bug fixes and improvements. In all 13 issues have been fixed.

* Noteworthy changes:
- Improve statedump command (Enterprise).
- Fix bug causing OCSP healthcheck to always return error.
- Minor security fix and improvement.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 6.0.0
-----------
EJBCA 6.0.0 is the latest major release of EJBCA, and both introduces and redefines a number of core concepts. Foremost amongst these are:

-  Main Changes:
	*	The concept of Crypto Tokens has been introduced in order to separate CAs from the keys tied to them. Crypto Tokens allow for 
		reuse of keystores between CAs or for other services like OCSP, and make configuration of keystores, both hard and soft, far simpler. 
		For additional information see Admin Guide and http://blog.ejbca.org/2013/08/whats-new-in-ejbca-6-part-1-crypto.html
	*	CMP is now fully configurable in the Admin GUI, and you can simultaneously use multiple different CMP configurations, called CMP aliases.
  		For additional information see Admin Guide and http://blog.ejbca.org/2013/09/whats-new-in-ejbca-6-part-2-cmp-aliases.html
	*	There is a new concept of Internal Key Bindings to bind a Crypto Token to a certificate for different usages, OCSP signing and TLS 
		authentication.
  		For additional information see User Guide and http://blog.ejbca.org/2013/10/whats-new-in-ejbca-6-part-3-internal.html
	* 	The merging of EJBCA and VA deployments. VA deployments are no longer anemic versions of EJBCA, instead all VA functionality has been
		merged into EJBCA proper. This for a single installation procedure, and for a machine to function as a CA and a VA simultaneously. 


-  Other Noteworthy Changes:
	*	Internal OCSP services are no longer configurable from the CA, but are instead automatically set up and always active. 
	*	OCSP code has been brought up to CESeCore standard 
	*	The installation work-flow and ant targets have changed to be more logical for deployment and installation.
	*	'Certificate Request History' is now disabled by default for new CAs.
	*	PKCS11 crypto tokens can now be managed by slot label (in addition to slot number and index) 
	*	JBoss 7.1 and EAP 6 are now supported
	*   Java 7 is now the default recommended Java version.
	
-  Minor Changes:
	* 	The term 'Admin Group' has been mostly purged and replaced with 'Role', as has the term 'User' been replaced by 'End Entity'
	*	Changes to certificate profiles:
		- The PKIX QCSyntax-v1 identifier from RFC3739 has been removed and will never be generated.
		- If "PKIX QCSyntax-v2" in the Certificate Profile is unchecked, no QCStatement with QCSyntax will be generated (new behavior).
  		- If "PKIX QCSyntax-v2" in the Certificate Profile is checked, a QCStatement with PKIX QCSyntax-v2 will be generated (same as before).
  	*	The default management CA has been renamed from AdminCA to ManagementCA.
	*	Many many minor features, improvements and bug fixes (over 300 issues are resolved for this release)  
  
Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

-  Known issues:
	*	Other Rules for Supervisor role is not cleared is previously selected for another role type: https://jira.primekey.se/browse/ECA-3297
	*	One test failure on DB2: https://jira.primekey.se/browse/ECA-3298
	*	OCSP request signer verification does an additional database lookup: https://jira.primekey.se/browse/ECA-3299

EJBCA 5.0.14
-----------
This is a maintenance release with only minor bug fixes. In all 2 issues have been fixed.

* Noteworthy changes:
- Fix problem, in some cases, when adding administrators with similar names.
- Default CA in OCSP responder can now handle CA DNs of any order.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 5.0.13
-----------
This is a maintenance release with only minor bug fixes, where one is a security fix. In all 4 issues have been fixed.

The security issue is rated as low, and can lead only to excessive CPU usage, if exposed to untrusted networks.

* Noteworthy changes:
- Some versions of MySQL picks bad index mixing OR and AND, so we make two generically safe queries instead.
- Fixed a regression where using a sun config file for PKCS11 (not the normal case) did not work.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.
	  
EJBCA 5.0.12
-----------
This is a maintenance release with only security fixes.
Two cross site scripting vulnerabilities were discovered in EJBCA and fixed accordingly. 

The vulnerabilities are rated as low, with a CVSS score between 1 and 3 (depending on subjective assessments).

The complexity to exploit the vulnerabilities is considered high and requires knowledge of the internal CA network as well
as social engineering, or malicious internal super administrators.

The consequences of an exploit is considered low, as no administrator credentials can be stolen, and full audit logs of all 
actions are preserved.  

We recommend that you assess the need to upgrade based on your particular deployment of EJBCA. Most CA deployments are largely 
immune due to environmental isolation.
 
For upgrade instructions, please see UPGRADE.

EJBCA 5.0.11
-----------
This is a maintenance release with new features, improvements and bug fixes. In all 12 issues have been fixed.

* Noteworthy changes:
- Possibility to store the Base64 certificate data in a separate table.
- Fixed possible database rollback when CRL publishing failed.
- Support for multiple Vendor CA in CMP for 3GPP/LTE networks.
- Allow to use token label to reference PKCS#11 slots.
- Support ECDSA for automatic key renewal in OCSP responder.
- Added a new WS keyrecovery method for specified certificates.
- Add hostname in startup log.
- Add configuration option for forbidden characters.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 5.0.10
-----------
This is a maintenance release with new features, improvements and bug fixes. In all 20 issues have been fixed.

* Noteworthy changes:
- Added lots of CLI improvements to create subCA signed by external CAs, edit CAs and profiles, and add and edit services.
- It is now possible to create CAs, using the CLI, with explicit ECC key encoding in CA certificate. Useful for ePassport installations.
- When creating link certificates they are now issued using the same certificate profile as the CA is using.  
- Improved support for Elliptic Curve Cryptography (ECC) using the CMP protocol. You can now use CMP in a Suite B compliant way.
- The LDAP publisher now supports STARTTLS extension, in addition to pure TLS connections.
- The batch enrollment GUI can now use JKS keystores, in addition to PKCS#12 keystores.
- Healthcheck messages are now logged in debug log, for easier troubleshooting.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 5.0.9
-----------
This is a maintenance release with improvements and bug fixes. In all 14 issues have been fixed.
This release contains a minor security fix.

* Noteworthy changes:
- New ClientToolbox sub-command: 'batchgenerate'
- CMP vendor certificate authorization
- Cache for publishers
- EJBCA compiles and runs on JDK7
- Fixed upgrade failure
- Fixed revocation not performing as expected in all circumstances 
- Fixed renewal not always persisting the keys
- Minor bugfixes and improvements

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.
Please notice the upgrade of BC jars if you are using Oracle JDK.

EJBCA 5.0.8
-----------
This is a maintenance release with improvements and bug fixes. In all 12 issues have been fixed.

* Noteworthy changes:
- Improved robustness of 'ejbca.sh ca importcertdir' command.
- It is now possible to obfuscate log signer key password.
- Fixed a but with CMP certificate authentication.
- Minor bugfixes.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.
Please notice the upgrade of BC jars if you are using Oracle JDK.

EJBCA 5.0.7
-----------
This is a maintenance release with only a security fix.

* Noteworthy changes:
- Fixed minor administrator escalation issue

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.
Please notice the upgrade of BC jars if you are using Oracle JDK.

EJBCA 5.0.6
-----------
This is a maintenance release with a few bug fixes but also new features. In all, 35 issues have been resolved.

* Noteworthy changes:
- Support for German CertHash OCSP extension for Common PKI.
- Add rate limit for health check queries.
- Add Extended Key Usage for WiFi EAP.
- Fixed download of CA certificates with plus character in CA DN.
- Fixed key recovery when CA signed by External CA.
- Fixed a few upgrade glitches when upgrading from EJBCA 4.
- Fixed re-activation of suspended certificates through VA-publisher.
- Fixed potential privilege escalation issue for certain, non default, configurations. 
- Fixed many other minor issues making deployment smoother.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.
Please notice the upgrade of BC jars if you are using Oracle JDK.

EJBCA 5.0.5
-----------
This is a maintenance release with a few bug fixes and new features. In all, 26 issues have been resolved.

* Noteworthy changes:
- Index recommendations have changed.
- CVC CAs can now be created from the Command Line Interface.
- EJBCA now supports Japanese localization
- Fixed bug where recursive deny rules caused deny for system user.
- Overall performance increases
- Removed redundant and excessive logging to audit logs


Read the full Changelog for details.
For upgrade instructions, please see UPGRADE

EJBCA 5.0.4
-----------
This is a maintenance release with a few bug fixes and new features. In all, 20 issues have been resolved.

* Noteworthy changes:
- OCSP: Possibility to only publish revoked certificates to Validation Authority.
- OCSP: Possibility to treat "non existing is good" based on URI on the Validation Authority.
- Do not allow creation of CAs using weak keys.
- Add Kerberos extended key usages.
- Add possibility to specify certificate profile to CA init CLI command.
- Fix a few more tests on windows platform.
- Fixed minor security issues in admin web.
- Fixed a few cosmetic issues improving usability.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE

EJBCA 5.0.3
-----------
This is a maintenance release with a few bug fixes and new features. In all, 16 issues have been resolved.

* Noteworthy changes:
- CMP: SenderKeyID no longer needs to be set in the request if it is not needed.
- CMP: KeyUpdateRequest works in RA mode as well as in client mode.
- CMP: It is now possible to skip verification of a CertConfRequest if desired.
- CMP: The CMP Proxy can now debug logging actual CMP messages.
- Approvals now work when approval requests were created using the CLI.
- Fixed all tests running on Glassfish and Windows platform.
- Fixed few minor XSS issues and other minor bugs

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE

EJBCA 5.0.2
-----------
This minor release primarily addressed issues that cropped up during manual testing for Common Criteria
certification. Quite some effort was also put into stabilizing the 5.0.x release.

* Noteworthy changes:
- Support has been added for incorporating external plugins in the EJBCA EAR file at build time. 
- Some XSS issues have been corrected. 
- Authorization checks have tightened up in accordance to Common Criteria demands. 
- Access rules for logging have finally been reconciled between CESeCore and EJBCA. The implication of this is
that the old EJBCA rules have been converted to the newer CESeCore rules, while those rules lacking application
in the new Secure Audit logging have been removed (all old rules matching /log_functionality/view_log/*_entries). 
Thus in the new logging system it is no longer possible to add rules to a role allowing that rule to only view a
certain type of log event depending on what entry that event was registered as. Old rules are upgraded during 
<ant post-upgrade>, which means that Supervisor roles won't work until this step is performed. Installations made in
5.0.0 or 5.0.1 need to be upgraded manually (see UPGRADE document), while installations upgraded from 4.0.x will have
their rules upgraded as part of the standard upgrade procedure. 
- Chinese characters are now supported in DN attributes for End Entity Profiles.
- Lots of small bug fixes.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 5.0.1
-----------
This minor release primarily fixed some CMP issues, one regression that was introduced in 5.0.0 and introduced
support for functionality from RFC4043 and RFC4325.

* Noteworthy changes:
- Support for Permanent Identifiers (RFC4043)
- Support for authorityInformationAccess in CRLs (RFC4325)
- Split xdocs in two separate sites, ejbca.org site and documentation site
- Documentation of EJBCA Djigzo integration

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 5.0.0
-----------
This major release marks a new step as EJBCA is now built on the Common Criteria certified secure core: CESeCore. The 
negative implications of this for the end customer should be minimal, as database changes are few and far between, and 
there is a clear upgrade path from EJBCA 4.0.x

CESeCore primarily provides two new features that will be of interest to the end user:
- The old database audit log system has been removed and replaced by a new security audit function that is capable
of storing integrity protected audit records in the database. 
- Integrity protection has been introduced to essential tables. This means that rows in these tables can't be modified
through direct database interaction without invalidating the row.

Additionally, the following feature has been introduced.
- The Command Line Interface now uses authentication. Users are drawn from the standard End Entities list, and have the same respective
roles. A default CLI user is created as a part of startup/upgrade in order to allow allow the CLI to be used without authentication, 
and can be turned off from the Administration Interface. This user is defined in ejbca.properties

For administrators, the following changes are worth noting:
- When upgrading from 4.x to 5.x new approval requests created in a 5.x instance can not be read in a 4.x instance. 
So if you require uptime and roll-back capabilities, only allow to create new approval requests from an 4.x host.
- A "Super Administrator Role" is created during either bootstrap or upgrade to create a role for the default CLI user.
- 'Admin Groups' have been renamed 'Roles'. Relevant database tables remain unchanged.
- 'Admin Entities' are now referred to as 'Access User Aspects'.
- 'Users' are now ubiquitously referred to as 'End Entities'.
- Usage of access rules have in some cases changed, and some new access rules have been added (edit publishers). After an 
upgrade to 5.0, verify your roles and privileges.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE

EJBCA 4.0.16
------------
This is a maintenance release containing a new feature and two bug fixes. In all 3 issues have been resolved.

* Noteworthy changes: 
- Possibility to store the Base64 certificate data in a separate table.
- Fixed possible database rollback when CRL publishing failed.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.15
------------
This is a maintenance release containing a few new features and improvements. In all 5 issues have been resolved.

* Noteworthy changes: 
- Possibility to create link certificates using the same certificate profile as the CA.
- LDAP publisher can publish certificate serialnumber to special object class inetOrgPersonWithCertSerno.
- Add missing variables C and UID to end user notification emails, by David Carella.

Note: There is a change in the LdapPublisher class API. Custom publishers overriding the LdapPublisher must be updated.
 
Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.14
------------
This is a maintenance release containing a few new features and improvements. In all 5 issues have been resolved.

* Noteworthy changes: 
- Active certificates published to a VA publisher that only publishes revoked certificates are no longer stored in the queue.
- Publishers are cached for improved performance.
- New and fixed settings that makes EJBCA work better behind an Apache using ProxyPass, by David Carella.
- Some passwords are not displayed in the console during build anymore, by David Carella.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.13
------------
This is a maintenance release containing a few new features and improvements. In all 25 issues have been resolved.

* Noteworthy changes: 
- New self-registration work-flow available in the public web.
- Added extended key usage for WiFi EAP authentication. 
- Some build improvements to avoid issues on some platforms (no javascript, no jasper).
- More minor GUI improvements by David Carella of Linagora.
- Minor bug fixes.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.12
------------
This is a maintenance release containing a few new features and improvements.

* Noteworthy changes: 
- Possibility for External OCSP responder key renewal at absolute times.
- Certificate expiration notifier can now filter on certificate profiles, not only CAs. 
- A publisher for sampling of issued certificates.
- Added user friendly output of certificate profile dependencies when deletion can not be done. 
- A new language tool for developers and localizers, by David Carella of Linagora.
- OCSP rekeying now works on JBoss 6.1.0 and JBoss EAP5

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.11
------------
This is a maintenance release containing a few new features, GUI improvements and support for Japanese.

* Noteworthy changes: 
- Support for Japanese in the admin GUI, by OGIS-RI Co.
- Possibility to use custom revocation dates. 
- Possibility to use aliases in RFC4387 CRL download links.
- Fixed support for special characters in filenames in export profiles cli command. 
- Admin GUI improvements for looks and consistency, by David Carella of Linagora.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.10
------------
This is a maintenance release containing 1 new VA publisher feature, 1 security fix and GUI improvements..

* Noteworthy changes: 
- Possibility to only publish revoked certificates to VA.
- Possibility for OCS to handle "non existing is good" different depending on OCSP uri. 
- Fixed XSS issue in admin GUI.
- Admin GUI improvements for looks and consistency.

David Carella has contributed many GUI improvements for the last few releases.
- forms and tables are colored according to consistent rules.
- all forms and tables are split in several logical sections.
- all similar fields (e.g. “[_] Use”, “[_] Critical”, “[_] Required”, “[_] Modifiable”, etc.) are vertically aligned.
- all check boxes (and radio boxes) can be checked by clicking on its label,
- two rules for in-line help for PKI administrators and RA officers.
- forms are globally more compact (the page heights are smaller). 
- naming of certain object are more consistent across the web.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.9
------------
This is a maintenance release containing 1 security bug fix.

* Noteworthy changes: 
- Fixed XSS issues in admin GUI.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.8
-----------
This is a maintenance release with a few bug fixes and new features. In all, 16 issues have been resolved.

* Noteworthy changes:
- CMP: SenderKeyID no longer needs to be set in the request if it is not needed.
- CMP: KeyUpdateRequest works in RA mode as well as in client mode.
- CMP: It is now possible to skip verification of a CertConfRequest if desired.
- CRL: More efficient CRL download 
- AdminGUI: Improvement in the appearance.
- Fixed few minor XSS issues and other minor bugs

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE

EJBCA 4.0.7
-----------
This is a maintenance release with a few bug fixes and a new feature. In all 10 issues have been resolved.

* Noteworthy changes:
- Fixed a bug reading large OCSP requests over HTTP 1.1 using chunked encoding.
- Fixed a few minor XSS issues.
- Fixed an issue where building the Validation Authority (VA) failed on specific platforms.
- The VA health-check URL is now what it is claimed to be in the property file. You will need to reconfigure devices monitoring this URL.
- Documented EJBCA integration with Djigzo
- Added a plug-in build system.
- Improved support for Chinese in the admin GUI.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE

EJBCA 4.0.6
-----------
This is a maintenance release with a few bug fixes and a new feature. In all 4 issues have been resolved.

* Noteworthy changes:
- Improved CMP by supporting KeyUpdate requests is client mode.
- Fixed importing empty CRL via CLI
- Fixed two minor bugs

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE

EJBCA 4.0.5
-----------
This is a maintenance release with a few improvements and bug fixes. In all 7 issues have been resolved.

* Noteworthy changes:
- Correct comparison of public key in HSM and CA certificate
- Fixed regression during republish
- Many small bug fixes.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.4
-----------
This is a maintenance release with a few new features and bug fixes. In all 33 issues have been resolved.

* Noteworthy changes:
- Improved CMP with many new authentication modules in both client and RA mode, and support for Nested content
- Support for custom certificate extensions with raw or RA defined values.
- Many small bug fixes.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 3.11.3
------------
This is a maintenance release containing 3 bug fixes.

* Noteworthy changes: 
- Certificate enrollment now works also with Safari and Chrome browsers. (Backport from EJBCA 4.0.2.)

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.3
-----------
This is a maintenance release with a few improvements and bug fixes. In all 5 issues have been resolved.

* Noteworthy changes:
- Improved CMP interoperability, with minor improvement and bugfixes.
- Fixed a bug that made it impossible to delete end entity profile on certain databases, in particular hsql (test database).

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.2
-----------
This is a maintenance release with many improvements and fixes. In all 44 issues have been resolved.

* Noteworthy changes:
- Internal optimizations makes this the fastest version of EJBCA ever, capable of issuing > 400 certificates/second (depending on configuration).
- Certificate enrollment now works also with Safari and Chrome browsers.
- Support for PrivateKeyUsagePeriod certificate extension. 
- Fixed a time zone bug issuing CVC certificates where the date was encoded using local timezone instead of GMT in certificates.
- More admin console and public web improvements from David Carella of Linagora.
- Now uses ISO8601 date format consistently when entering dates in admin console. 
- Automatic generation of Norwegian UNID numbers from CMP requests.
- Many small bug fixes and improvements.

The ISO8601 date format (yyyy-MM-dd HH:mm:ssZZ) is used in the Admin GUI and EJBCA WS interface,
so clients no longer have to be aware of in what time zone the CA servers are located.
The old format (in US Locale) will still work for incoming requests in the WS, but any returned
UserDataVOWS containing custom start and end date will use the new format.

If you get a "java.lang.NoSuchMethodError" in the admin GUI it is because JBoss does not clean temporary files very good.
Delete the directories JBOSS_HOME/server/default/tmp and JBOSS_HOME/server/default/work and restart JBoss to get it working.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 3.11.5
------------
This is a maintenance release containing 1 security bug fix.

* Noteworthy changes: 
- Fixed XSS issues.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 3.11.4
------------
This is a maintenance release containing 1 security bug fix.

* Noteworthy changes: 
- Fixed XSS issues in admin GUI.

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 3.11.3
------------
This is a maintenance release containing 3 bug fixes.

* Noteworthy changes: 
- Certificate enrollment now works also with Safari and Chrome browsers. (Backport from EJBCA 4.0.2.)

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 3.11.2 
------------
This is a maintenance release containing 11 bug fixes, and 12 new features/improvements.

* Noteworthy changes: 
- Several bug fixes
- Increased algorithm support on PKCS11 HSMs
- Added a webservice based RA written by Daniel Horn
- Possibility to disable the command line interface
- New CA CLI commands to import CRLs and certificates which are useful when migrating to EJBCA

Read the full Changelog for details.
For upgrade instructions, please see UPGRADE.

EJBCA 4.0.1
-----------
This is a maintenance release - only one issue is resolved.

Changes:
- Fixed failure to perform web browser enrollment with Internet Explorer.

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 4.0.0
-----------
EJBCA 4 uses Java Enterprise Edition (JEE) 5 instead of J2EE. This release is a major improvement
of the core, modularization, portability and packaging, but you will not notice many functional
differences.

The database schema is fully defined through the Java Persistence API and table create scripts are
provided for all the supported databases.

The Ingres database can now be used with EJBCA without patching the code.

Many bugs have been corrected. For example EJBCA Services will run more stable in a clustered
environment.

The interface ICustomPublisher has been modified, via removal of the number parameter from the
storeCRL method. Any custom classes implementing this interface need to be modified.

Java 1.6 and Ant 1.7.1 or higher is required from this version on.

Read the full changelog for details.

For upgrade instructions, please see UPGRADE and have a look in the installation instructions for
notes on how to configure your application server.

Known issues (see EJBCA issue tracker for a more updated version):
- XKMS Signature validation does not work. (ECA-2078)
- OCSP re-keying on JBoss 6.0.0.FINAL does not work. (ECA-2077)

EJBCA 3.11.1
-----------
This is a maintenance release - 16 issues have been resolved. Only fixes and layout improvements, no new features. 
This release fixes an upgrade issue from 3.6.x to 3.11.x and also a MySQL/MyISAM related issue in the 3.11.0 release.
A few uncaught regressions from 3.10.x and 3.11.0 were fixed, and as usual David Carella of Linagora added some 
Admin GUI layout improvements.

Changes:
- It is now possible to easily upgrade from EJBCA 3.6.x to 3.11.x
- Fixed a MySQL mapping that did not work when using the MyISAM storage engine and UTF-8 encoding.
- ETSI QC value limit can now have the value zero.
- Admin GUI improvements from David Carella of Linagora.
- Added a favicon to the EJBCA web interfaces. 
- Fixed an issue causing cached end entity profiles (not default) to be changed for some actions in the admin GUI.
- Fixed an issue where session information spilled over to other edits when using the "Back to certificate profiles" link.
- Fixed an issue where using the required flag on Cardnumber in a end entity profile gave error about missing unstructured address.
  This also resolved an issue where the DN field Unstructured Address did not work.

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

NOTE: If you have been using the SEIS Cardnumber extension in End Entity Profiles (not default), this setting had an internal collision
with the UnstructuredAddress DN field, so they could not be used at the same time. There was a problem using the UnstructuredAddress lately.
The issue was resolved by changing the internal number for Cardnumber. This is not possible to upgrade automatically.
* If you used SEIS Cardnumber * you must manually edit your end entity profiles and re-check the 'use' checkbox after upgrade to 3.11.1.
This should affect a very small number of users.

EJBCA 3.11.0
-----------
This is a major release with several new features - 47 issues have been resolved. 
One major goal with this release is to prepare for a seamless migration to EJBCA 4.0. To make 
the migration path to EJBCA 4.0 a simple plug-in upgrade, EJBCA 3.11 introduces database changes
needed to make the schema fully compatible and consistent across all supported databases.

Upgrade to EJBCA 3.11 should be simple as usual, just follow the instructions in doc/UPGRADE.

Noteworthy changes:
- Possibility to configure CA not to use certificate and user store, meaning that CA can issue certificates without having to access database after service startup.
- External OCSP responder can now function as a validation authority serving OCSP, CRLs and CA certificates.
- Certificate store access via HTTP according to RFC4387 standard.
- Possibility in WebService Interface to specify extended information when editing users.
- Possibility to specify custom certificate serial number for end entities using CMP protocol. CMP RA secret can now also be specified per CA.
- Upgrade database schema to be consistent across databases.
- Add a few new columns to database tables, a preparation to be used in EJBCA 4.0.
- Improvements in the Glassfish support, now also usable with Oracle database. 
- Several other new features and extended key usages, GUI improvements and performance enhancements - many of which are contributed by Linagora.

*Important notes*
1. 
If you have a very large database (>1 million issued certificates) you can probably not run the database schema upgrade 
scripts automatically, but you want better control of the changes. You can then run the upgrade SQL statements manually.
You can find them under src/upgrade/310_311, with an individual sql file for your database.
  
2.
The external OCSP responder module have many added features in this release. This has caused some configuration file changes. See VA Installation documentation.
Specifically the CA Publisher datasource configuration has moved from ocsp.properties to va-publisher.properties, a much better location. 
Health check settings has moved from ocsp.properties to va.properties.

3.
the database schema has changed. If you run an external OCSP responder the database schema on that must also be updated for the VA/OCSP publisher to work.
The two new columns rowVersion and rowProtection does not have to be set to any specific value. 

4.
The error message when publishing fails has changed from "EXTERNAL OCSP ERROR" to "Validation Authority ERROR". If you have scripts monitoring this, they must be updated. 

EJBCA 3.10.6
-----------
This is a maintenance release with one new feature. 
This release is a very small maintenance release to mark the end of the 3.10 branch, anticipating 3.11.0 to be released withing a few days.
If you are running 3.10.5 with no issues, there is no real reason to upgrade to 3.10.6.

Changes:
- ExtendedInformation, such as issuance revocation reason, can now be added when editing users with the WebService API.

The release also fixes four minor or exotic bugs.

Read the full changelog for details.

Note: The WebService WSLD has changed for adding ExtendedInformation in the UserDataVOWS object. 
Old WS clients without this should still work and we have tested with older EJBCA clients. 
However if you depend on the WS-API you must test in your environment before bringing this new version in production.
 
For upgrade instructions, please see UPGRADE. 

EJBCA 3.10.5
-----------
This is a maintenance release with 37 issues resolved, both features and bug fixes.   
  
Noteworthy changes:
- Fixed admin GUI error running on JBoss 5.
- Fixed some issues with audit and approvals when using admin certificates issued by an external CA.
- Harmonized admin GUI and improved looks. Contributed by David Carella of Linagora.
- Added and improved caches of profiles and CAs, improves performance. CLI for clearing caches.
- Fixed installation issue on Windows when JBoss installed in root directory.
- Fixed re-publishing of certificates when CertReqHistory is not used. CertReqHistory is enabled by default for new CAs.
- Updated German translation, contributed by Atos Origin.
- Support unrevocation using WS-API.

Read the full changelog for details.

There were many changes in the admin GUI for this release. Please let us know if you encounter any regressions using the admin GUI.

EJBCA 3.10.4
-----------
This is a maintenance release with 23 issues resolved, both features and bug fixes.   
  
Noteworthy changes:
- Possibility to specify custom certificate serial number for end entities.
- Possibility to configure CA to not use CertReqHistory to increase performance.
- Harmonized admin GUI and improved looks. Contributed by David Carella of Linagora.
- Other performance optimizations. More than 100 certificates per second can now be issued under certain conditions.
- WS API did not work with external administrator certificates.
- Mitigate potential XSS vulnerabilities in admin GUI.
- Fixed bug when creating CRLs for CAs with single quote in the DN.
- Other admin GUI improvements with better error messages in some cases.

Read the full changelog for details.

One known issue from 3.10.4 is https://jira.primekey.se/browse/ECA-1779

There were many changes in the admin GUI for this release. Please let us know if you encounter any regressions using the admin GUI.

EJBCA 3.10.3
-----------
This is a maintenance release with only 6 issues fixed. 
The release was primarily done to fix a regression for EAC CVC CAs using ECC keys.  
  
Noteworthy changes:
- EAC CVC Document Verifiers using ECC keys did not work properly. This was fixed and new test cases was added to the test suite.
- Removed requirement to use "Batch generation" when using CMP RA mode.
- Fixed issue that revocation in admin gui did not work with CAs using accented characters.
- Added code to mitigate potential cross site scripting in admin gui. Note that client certificate authentication was still needed so it was not publicly exploitable.
- Added UTF-8 URI encoding for the public http port (8080). It was previously only enabled for the https ports.

Read the full changelog for details.

EJBCA 3.10.2
-----------
This is a maintenance release with a new features, improvements and several bug fixes. 36 issues in total have been resolved. 
With this release 3.10.2 is the preferred release for all installations. 
We believe that most regressions resulting from the large restructuring in 3.10.0 is resolved. 
  
Noteworthy changes:
- CMP proxy module.
- Improved transaction isolation and performance in CMP.
- Improvements for JBoss 5.
- Possibility to Enforce unique SubjectDN Serial Number.
- Framework for validation of the contents of end entity fields. 
- Fixed some regressions in the admin GUI related to cross certification and CV certificates. 
- Possible to define custom CN of superadmin on install.
- Update pre-defined windows smart card logon profiles.
- Output the servers time to the first page of the Admin GUI.
- Supervision of the OCSP responder certificate validity in the standalone OCSP responder.
- Many minor bug fixes related to the big restructure in 3.10.0.
- Minor security enhancements. 

Read the full changelog for details.

In EJBCA 3.10.2 the Exception handling for NotFoundExceptions when a user does not exist was slightly overhauled. 
This effected some WS-API calls (findCerts, getLastCertChain and getHardTokenData). The behavior of the methods are unchanged, but if 
you have handling for such errors you should double check the error handling anyhow. Javadoc has been updated where it was previously not clear.

EJBCA 3.10.1
-----------
This is a maintenance release with a few new features, some improvements and several bug fixes. 33 issues in total have been resolved. 

Changes:
- New WS-API methods for renewing CAs. This enables the possibility for automated SPoCs in an EAC ePassport PKI.
- New CMP proxy module letting you have a separate server terminating CMP connections and then forwarding them to the CA. 
- Possibility to renew CAs without activating new keys, enabling the CA to continue working until a new certificate is imported.
- Support for SHA384WithECDSA signature algorithm.
- Fixed deployment on JBoss EAP 5.0.0.
- Fixed admin GUI bug with problems selecting privileges for RA administrators.
- Fixed some issues with cli and renewal of expired CAs.
- Fixed a bug with cli for getting delta CRLs.
- Other minor bug fixes.

Note that there is a new access rule for "Renew CA". An administrator with renew CA privileges is authorized to renew CA and 
import certificate response (from an external CA). Previously only super administrator was allowed to to this.
CA administrators bye default has this new privilege. If you do not want them to have this privilege you can disable it in 
Advanced mode in the edit privileges section of the admin GUI. 
The new privileges can be used together with the new WS-API functions and CLI to renew specified CAs. 
To be authorized the administrator need both the new "Renew CA" privilege and and be authorized to the specific CAs.
The methods in CAAdminSessionBean that have changed privileges are renewCA, makeRequest and receiveResponse.     

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.10.0
-----------
This is a major release with lots of internal reorganisations, new features and fixes. 

NOTE:
A user that is requesting a certificate with same public key or subject DN as an existing certificate issued to another user is now denied the
certificate. If this will result in any problem in your installation you may disable any of these checks on the "Edit CA" page. You can read
more about it in the user guide.

Noteworthy changes:
- Restructuring and refactoring to improve maintainability, prepare for the EJBCA 4 release and Common Criteria certification.
- Web Service method for creation or update of a user and creation of a certificate in a single transaction.
- Enforcement of unique public keys and subject DNs.
- New External RA API GUI for browser enrollment without ingoing traffic to the CA.
- Support for Ingres 9.3.

Read the full changelog for details.

This version removes the SafeNet Luna JCE class for use as a CA Token. You must now use the more generic, and well tested, PKCS#11 CA token type instead.
The usage of PKCS11 CA tokens is well documented in the Admin Guide.
 
For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.10
-----------
This is a maintenance release with one backported fix from 4.0.

Changes:
- better handling of X.500 DN order with multiple attributes (e.g. DC, OU)

For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.9
-----------
This is a maintenance release with one new feature and a few backported fixes from 3.10.

Changes:
- ExtendedInformation, such as issuance revocation reason, can now be added when editing users with the WebService API.
- Added correct URIEncoding also for port 8080 in Tomcat's server.xml.
- Fixed Issuer CA DN HTML escaping when revoking through Admin GUI.  

Read the full changelog for details.

Note: The WebService WSLD has changed for adding ExtendedInformation in the UserDataVOWS object. 
Old WS clients without this should still work and we have tested with older EJBCA clients. 
However if you depend on the WS-API you must test in your environment before bringing this new version in production.
 
For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.8
-----------
This is a maintenance release with only three fixes.

Changes:
- Supervision of the validity time of the signing certificates for the OCSP responder.
- The CAR of a CV Certificate can hold an incorrect sequence number (which makes the CAR incorrect).
- Upgrade may cause "use authority information access" to be enabled though it was not before in certificate profile.

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.7
-----------
This is a maintenance release with only four fixes.

Changes:
- Fixed an error when creating DVs signed by external CVCAs (EAC ePassport only).
- Give better error message when the same public key is passed in initial CVC request (EAC ePassport only).
- Log OCSP responder startup and shutdown.
- Fix possible NullpointerException in EjbcaWS.getAvailableCertificateProfiles.

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.6
-----------
This is a maintenance release with two new features, and five minor fixes.

Changes:
- New WS-API methods for renewing CAs. This enables the possibility for automated SPoCs in an EAC ePassport PKI.
- When renewing CA keys for CAs signed by external CAs you can now choose to not activate the new keys. 
  This enables your CAs to continue working uninterrupted until a certificate response is received and imported. 
- Errors when using approval notifications are fixed.
- The getcrl cli command can now also retrieve delta CRLs.
- Two other minor fixes for CA renewal.

Note that there is a new access rule for "Renew CA". An administrator with renew CA privileges is authorized to renew CA and 
import certificate response (from an external CA). Previously only super administrator was allowed to to this.
CA administrators bye default has this new privilege. If you do not want them to have this privilege you can disable it in 
Advanced mode in the edit privileges section of the admin GUI. 
The new privileges can be used together with the new WS-API functions and CLI to renew specified CAs. 
To be authorized the administrator need both the new "Renew CA" privilege and and be authorized to the specific CAs.
The methods in CAAdminSessionBean that have changed privileges are renewCA, makeRequest and receiveResponse.     

EJBCA 3.9.5
-----------
This is a maintenance release with minor fixes and improvements. 

Noteworthy changes:
- Fixed a performance regression for the OCSP service that could lower throughput from 400 to 200 req/s.
- Added process time parameter to OCSP transaction logging.
- Fixed and improved usage of the optional IAIK PKCS#11 provider.
- Improve sequence handing for EAC CVC CAs.
- Fixed a bug when renewing CA keys on HSMs.
- Fixed that you could not use a dot in pre-set usernames in end entity profiles.
- Added possibility to install directly with external admin CA, initializing authorization module in importcacert cli command.
- Added possibility to prompt for keystore password during install so you never have to write it anywhere. 

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.4
-----------
This is a minor release with only a few minor fixes. 

Noteworthy changes:
- Fixed a bug where OCSP responder would not return correct status for archived (expired) certificates.
- Fixed a regression for the (deprecated) SafeNet JCE CA token.
- Fixed a regression where you could not renew expired CAs
- It's not possible to renew soft ECC CA keys in the admin GUI
- All language files are now encoded in UTF-8
- Fixed corner cases where bogus CRLs and certs could be published to LDAP

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.3
-----------
This is a minor release but packed with new minor features and fixes, 41 issues have been resolved. 
Some minor features and options and some bug fixes and stabilizations.

Noteworthy changes:
- Fixed a regression in 3.9.2 where you could not upload files in the admin GUI.
- Certificate profiles can now specify a different signature algorithm than the CA. Useful to start migrating SHA1 CAs to issue SHA256 certificates.
- Possibility to use part of user data in LDAP DN but not in certificate DN when publishing certificate to LDAP.
- Possibility to set fixed end date of certificates in certificate profile and CA configuration.  
- Possibility to configure several notification services for expiring certificates, notifying at different times, i.e. 30 days, 7 days, etc.   
- Browser enrollment tested with Windows 7.  
- ECC improvements and fixes for CAs and HSMs, CA renew keys, CA import, brainpool curves, explicit ec parameters, clientToolBox etc.
- GUI improvement to the admin GUI with nicer navigation menu and CSS. Contributed by Linagora, France.
- cert-cvc: fixed rare possibility to get bad encoding of EC points in certificates. Contributed by DGBK, Netherlands.
- CVC CA fixes and improvements for EAC PKI, approvals, import CAs, fix cli info command, .cvcert instear of .crt when downloading certs, etc.
- Don't publish certificates for inactive CA services to LDAP.
- Fix so renewing CA keys in admin GUI does not reload all CA tokens. 
- Fixed an OutOfMemory error when failing to publish large CRLs with connection closed error.
- Fix download issues with IE for exported CA keystores.
- Many small optimizations, fixes and improvements.

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.2
-----------
This is a minor release but packed with new minor features and fixes, 38 issues have been resolved. 
Some minor features and options and many bug fixes and stabilizations.

Noteworthy changes:
- Sign and verify of files with clientToolBox when the private key is stored on a HSM.
- Possible to limit signing keys for an external OCSP responder to keys within a set of key aliases.
- Add support for the TSL signer extended key usage
- Use improved validity period parsing in Certificate Profiles
- Add option to use publisher queue or not for CRLs and certificates
- Document MS application policies extension
- Fixes for ejbcaClientToolBox.bat for windows platform
- Timeouts for LDAP publishers to handle unstable LDAP servers
- For issue where CRL service may stop running if database is stopped for some period
- Change so that Issuing Distribution Point on CRLs is not used by default in CA configuration
- Fix issue using IAIK provider with several CAs
- Fix slow revocation if a user have many certificates
- cert-cvc: getting expiration date returns 00.00 hours but it means it's valid the whole day
- cert-cvc: bad encoding of EC points in certificates in rare cases where affineX and affineY is not same size
- Many small optimizations, fixes and improvements.

Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.1
-----------
This is a minor release but packed with new minor features and fixes, 46 issues have been resolved.

Noteworthy changes:
- Improvements to public enrollment process including automatic renewal.
- Ability to specify approvals on certificate profiles.
- Configurable list of extended key usages.
- Dynamic update of max-age and nextUpdate for OCSP responders, also per certificate profile.
- In CRL update service you can select which CAs to generate CRLs for.
- Possible to schedule CRLs more often than hourly.
- Possible to remove soft CA key and possibility to import it back again.
- Possibility to remove passwords from properties files.
- Support for CRL distribution points with URI:s containing semicolon.
- Transaction log for web service certificate issuance.
- Possibility to specify Any CA in end entity profiles.
- More flexible configuration of CA validity, years, months days.
- Improved error message in GUI when HSM activation fails.
- Many small optimizations, fixes and improvements.
    
Read the full changelog for details.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.9.0
-----------
This is a major release adding many new features and improvements, and fixing numerous bugs. 
126 issues have been resolved for this release. Check the changelog, there is a good chance that your favorite issue has been resolved.

Some noteworthy changes:
- Support for CAs using DSA keys. EJBCA now supports all major algorithms; RSA, DSA and ECDSA.
- External RA improvements. CA service running as an EJBCA services gives full cluster functionality and support for multiple external RAs. 
  As a bonus it is now much easier to install and configure.
- Robust re-publishing mechanism for publishers that fail, running as an EJBCA service.
- OCSP responder improvements with performance improvements and support for on-line renewal of OCSP responder keys and certificates. 
  The external OCSP responder can now saturate high performance HSMs.
- OCSP monitoring tool for monitoring synchronization between EJBCA and external OCSP responders.
- GUI for configuring the external OCSP publisher with new options.
- Possible to change OCSP signing keys in a running external OCSP responder.
- New commands and stress tests in the client toolbox.
- A new admin web gui front page with status overview panels.
- Possible to configure status of certificates issued for end entities, i.e. issue certificate revoked "on hold".
- New DN attribute, Name.
- Performance improvement by caching and lowering number of database queries.
- XKMS now works also on Java 6.
- Possibility to set user validity start and end time in WS API. 
- Lots of small fixes and improvements to the admin GUI.
- Lots of small bugfixes.
- Keon CA to EJBCA migration guide.

Read the changelog for details.

Note that the configuration of External RA changed dramatically (to the better). If using the external RA, please read the manual how to 
install and configure the RA CA service in EJBCA 3.9.

Note that this version brings database changes. Read the UPGRADE document for upgrade instructions.

This release should, as always, work on JBoss, Glassfish, Weblogic and OC4J, together with most available databases.

EJBCA 3.8.3
-----------
This is a minor release with only a few fixes
Read the changelog for details.
- Fixed unability to deploy on PostgreSQL + Glassfish combination.
- Fixed possible extensive CPU usage for crafted messages to CMP RA service (not default config).
- Fixed Ugly error message in LDAP publisher if no certificate to remove exists.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.8.2
-----------
This is a minor release adding improvements and bugfixes
Read the changelog for details.
- Add street and pseudonym DN attributes.
- OCSP improvements, RFC 5019, nextUpdate, support for requests using GET, improved configuration and error handling.
- Correct coding of optional Issuing Distribution Point in CRLs.
- Possible to publish userPassword in LDAP.
- A few minor fixes.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.8.1
-----------
This is a minor release, targeted for adding support for JBoss 5 and fixing a mistake that caused install on Glassfish to fail.
It also adds a few minor improvements and bugfixes.
Read the changelog for details.
- Add support for JBoss 5.
- Fix support for Glassfish caused by a forgotten commit in 3.8.0.
- Improve support for Weblogic 10.3.
- Fix support for IPv6 subject alternative names.
- A few minor CMP, OCSP and CVC fixes.

For upgrade instructions, please see UPGRADE. 

EJBCA 3.8.0
-----------
This is a major release, particularly focusing on support for administrators to log in with certificates from other CAs, 
not in EJBCA.
Read the changelog for details.

Notable changes in no specific order:
- Restructure administrator validation to allow admins using externally issued certificates.
- Add a CLI subcommand to add an administrator in an admin group using the serial number.
- Drop administrator flag in end entities, it's not needed, makes configuration easier together with remade admin GUI.
- Possible to generate CA PKCS#10 request without giving CA certificate.
- Add support for SEIS Card Number extension.
- Added KRB5PrincipalName subjectAltName.
- Option in certificate profiles for reversing DN order.  
- Enroll for CV certificate on public web.
- Upload PEM or binary certificate requests on public web.
- Possible to sign releases and deployed code.
- Enhanced basic custom certificate extension.
- Command to list objects in Luna HSM partition.
- Some bug fixes.  
  
For upgrade instructions, please see UPGRADE. 
NOTE: There are database upgrades in this release, so read UPGRADE carefully.

Because there are binary files in EJBCA_HOME/lib changed there is no patch file for upgrading
EJBCA 3.7.x to 3.8.0. Use the full package from EJBCA 3.8.0 and follow the upgrade instructions in UPGRADE.

Note that if using JBoss, you need JBoss 4.2.x or later to run EJBCA 3.8.x.

EJBCA 3.7.5
-----------
This is a minor release that makes a few minor changes in the CVC WS-API and adds a variable in OCSP audit log.
- Allow logging of REPLY_TIME in both audit and transaction logs  
- Fixed CVC certificate requests with error leaves user status as new  
- Fixed that cvcgetchain does not return latest cert
- Add brazilian portuguese translation of admin GUI
- A few minor bugs  

Read the changelog for details.

This is a plug-in upgrade from 3.7.x. See UPGRADE for the simple instructions.

EJBCA 3.7.4
-----------
This is a minor release that replaces 3.7.3 where initial install was broken. It has a few additional fixes from 3.7.3 as well.
- Substitute email from- and to- as well in user notifications
- Create a built-in Server certificate profile
- OCSP improvements

Read the changelog for details.

This is a plug-in upgrade from 3.7.x. See UPGRADE for the simple instructions.

EJBCA 3.7.3
-----------
This is a minor release mainly put out to fix building on Glassfish that broke in 3.7.2.
- Fix on Glassfish that was broken in 3.7.2
- Glassfish support for PostgreSQL
- A couple of trivial fixes.

Read the changelog for details.

This is a plug-in upgrade from 3.7.x. See UPGRADE for the simple instructions.

EJBCA 3.7.2
-----------
This is a minor release with focus on fixing making OCSP optimizations, introducing some minor features and fixing a few annoying bugs.
- Add Intel AMT extended key usage
- Optimize OCSP servlet for better performance
- OCSP responder improvements: reload of p11 when connection broken, return error of audit logging fails.
- CA certificates with SerialNumber in DN does not work with External OCSP
- WS-API, make mathtype contains with with matchwith username
- Key length changes when editing CA in admin-GUI
- Minor GUI fixes.

Read the changelog for details.

This is a plug-in upgrade from 3.7.x. See UPGRADE for the simple instructions.

EJBCA 3.7.1
-----------
This is a minor release with major focus on enhancements to CVC CA support for EU EAC ePassport PKIs.
- Support for both RSA and ECC with all EAC algorithms.
- Interoperability fixes tested with other implementation at the Prague 2008 event.
- Usability enhancements for CVC PKIs, for example download and import of binary certificates.
- Changes to the CVC cli to mimic the WS-API functions.
- Fixed that upgrade from 3.6 to 3.7 causes error when autogenerated password are used
- Other minor bugfixes.

Read the changelog for details.

This is a plug-in upgrade from 3.7.x. See UPGRADE for the simple instructions.
Because there are binary files in EJBCA_HOME/lib changed there is no patch file for upgrading
EJBCA 3.7.0 to 3.7.1. Use the full package from EJBCA 3.7.1 and follow the upgrade instructions in UPGRADE.

EJBCA 3.7.0
-----------
This is a major release, particularly focusing on support for CVC certificates as used in EU EAC ePassport PKI.
Read the changelog for details.

Notable changes in no specific order:
- Support for CV Certificates (CVC) for EU EAC ePassports, you can now build a CVC PKI for EU ePassport using EJBCA.
- Upgrade of jaxb jars using for Webservice API, and new WS-API calls.
- Support for error codes in Exceptions from Webservice API.
- New service to automatically renew expiring CAs.
- Possible to use IAIK PKCS#11 provider as well as Sun PKCS#11.
- Client Tool box with client CLI tools easy to deploy stand-alone on other machines.
- Minor fixes and enhancements.

For upgrade instructions, please see UPGRADE. 
There are no database upgrades in this release.

Because there are binary files in EJBCA_HOME/lib changed there is no patch file for upgrading
EJBCA 3.6.x to 3.7.0. Use the full package from EJBCA 3.7.0 and follow the upgrade instructions in UPGRADE.

EJBCA 3.6.4
-----------
This is a minor release, only fixing one single issue.
- [ECA-921] - EjbcaHealthCheck does not work on OC4J

Read the changelog for details.

This is a plug-in upgrade from 3.6.x. See UPGRADE for the simple instructions.

EJBCA 3.6.3
-----------
This is a minor release, targeted for fixing a few annoying bugs.
- Upgrade fails to set internal state of CA expire time for externally signed CAs
- Key length changes when editing CA in admin-GUI
- TestProtectedLog fails if ProtectedLogDevice is not enabled in configuration
- PKCS11 support problem on OCSP responder
- LdapPublisher searches for old objects on certDN instead of Ldap DN

Read the changelog for details.

This is a plug-in upgrade from 3.6.x. See UPGRADE for the simple instructions.

EJBCA 3.6.2
-----------
This is a minor release but with a record amount of fixes for a point release. New features, improvements and a lot of bugfixes 
rounding a lot of rough edges.
Some very notable changes are:
- Major improvements to the External OCSP responder with more configuration options and 
  completely new Audit and Account logging. With the new, highly configurable, logging it is 
  suitable for using as a service charging for, and auditing, requests.
- New documentation feature with on-line documentation deployed in the Web interface by default. 
  Question mark links from options that are hard to understand in the Admin-GUI are now possible.
- Lots of improvements to the Admin-GUI with configuration for autogenerated passwords and fixing a lot of small GUI bugs and quirks. 
- Fail over mechanism for the LDAP publisher.
- Improved documentation for more HSMs, Admin-GUI, etc.
- Improvements for other app servers apart from JBoss.
- MS document signing extended key usage, and tool for importing certificates from MS CA. 
- Lots and lots of small bugfixes. 
- Updated translations. 

Read the changelog for details.

This is a plug-in upgrade from 3.6.x. See UPGRADE for the simple instructions.

EJBCA 3.6.1
-----------
This is a minor release with a few new features, from EJBCA 3.5.6, and some minor fixes.
Apart form the fixes from EJBCA 3.5.6 nCipherHSM.sh now hides the password the user enters and
an index collision in profilemappings.properties is fixed. Also an error when enrolling with approvals 
activated was fixed.

Read the changelog for details.

This is a plug-in upgrade from 3.6.x. See UPGRADE for the simple instructions.

EJBCA 3.6.0
-----------
This is a major release with many new interesting features and framework improvements.
Read the changelog for details.
Notable changes in no specific order:
- New (optional) fully clusterable log system with advanced log signing.
- Support for more extensions (FreshestCRL, caIssuers, more extended key usages, multiple policy statements)  
- More WebService API commands.
- Support for Oracle Application Server and Websphere, improvements for Weblogic.
- Support for DB2 database.
- Support for delta CRLs
- Auto-enroll certificates for Microsoft systems (see ejbca.org->Howto).
- Improved PKCS#11 support for HSMs.
- OCSP improvements, support for PKCS#11 HSMs on external OCSP responder.
- External RA improvements, better configuration and SCEP improvements.
- LDAP publisher improvements.
- User notification improvements.
- New Wiki web, wiki.ejbca.org.

For upgrade instructions, please se UPGRADE. 
There are database upgrades in this release so please pay attention!

Because there are binary files in EJBCA_HOME/lib and many massive changes there is no patch file for upgrading
EJBCA 3.5.x to 3.6.0. Use the full package from EJBCA 3.6.0 and follow the upgrade instructions in UPGRADE.

For the Oracle database we have made a switch from the deprecated type LONG to CLOB. Do not fear though,
EJBCA 3.6 still works if you continue to use the LONG data type (i.e. does not make any changes to your database).
If you decide to migrate, there is a migration sql script in src/upgrade/35_36/oracle-long-to-clob.sql.

EJBCA 3.5.12
-----------
This is a minor release, fixing a performance issue with getCerts webservice call when a single user have lots of certificates, and 
also an issue with authorization in UserDataSource.
- Optimize performance of findCerts WS call
- Serious bug in UserDataSource Authorization

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.11
-----------
This is a minor release, fixing two minor issues with webservice calls used by HardTokenMgmt.
- Change genTokenCertificates WS call behavior to not temporary revoke certificates for MS logon
- Fix error in EJBCAWS.genTokenCertificate temporary cards aren't revoked properly

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.10
-----------
This is a minor release, only backorting a fix done in 3.6.
- CertificateExpirationNotifier service not working on Weblogic-Oracle

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.9
-----------
This is a minor release, targeted for fixing a few annoying bugs.
- Upgrade fails to set internal state of CA expire time for externally signed CAs
- Key length changes when editing CA in admin-GUI

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.8
-----------
This is a minor release, adding two minor improvements.
 - Option to Health Check to perform sign test on CA token
 - Attempt to revoke a certificate.user that is already revoked generates an error

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.7
-----------
This is a minor release, fixing a few bugs.
 - Deadlock under stress test involving revocation
 - Importing certificate to CA with off-line token did not work
 - NPE issuing some sparecard with HTMF
 - Error enrolling certificate using SSL with client cert
 - CRL generation for CAs waiting for certificate response throws exception  

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.6
-----------
This is a minor release, fixing a few bugs and adding a new activation page to the admin-GUI.
 - New activation page to effectively be able to activate many CAs quickly
 - Possibility to exclude CAs from monitoring by the HealthCheckServlet
 - Improve generation of CRL with the CRL worker
 - Fix bugs listing many log or user entries
 - Fix WS issues and a few other issues affecting hard token administration

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.5
-----------
This is a minor release, fixing a few bugs and adding support for dual authentication for CATokens.
 - LDAPPublisher initialized the fakeCRL incorrectly
 - Add support for the fields PostalCode and BusinessCategory, now natively supported by BouncyCastle.
 - Add Approval option for activation of CAToken

EJBCA 3.5.4
-----------
This is a minor release, fixing a few bugs.
- A configuration file according to the Sun notation can now be used when creating keys on PKCS11 HSMs.
- A DB synchronization bug is fixed. Before two EJBCAs could update the log table with same sequence number.

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.3
-----------
This is a minor release, fixing a few bugs and introducing a new tool.

Notable changes are:
- Support for AEP KeyPer HSM using the EJBCA tools.
- Fix for broken pkcs11HSM.sh.
- A new tool for stress testing over the WS-API.

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.2
-----------
This is a minor release, fixing some bugs and introducing some minor improvements.

Notable changes are:
- Support for Luna HSM was broken
- Files for building debian package included
- Portugeese translation of Admin-GUI
- Optimized CRL generation for generating CRLs with more than 100.000 revoked certificate
- Possible to use altNames in External RA SCEP service, and require a specific password 
- Several bugfixes related to using external CAs
- and other minor fixes... 

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.1
-----------
This is a minor fix release, fixing an installation issue with 3.5.0 and some other minor bugs.

Read the changelog for details.

This is a plug-in upgrade from 3.5.x. See UPGRADE for the simple instructions.

EJBCA 3.5.0
-----------
This is a major release with many new interesting features and framework improvements.
Read the changelog for details.
Notable changes in no specific order: 
- PKCS#11 interface to HSMs, support for Utimaco CryptoServer, and improved auto-activation of HSMs.
- Much enhanced Webservice API for administration.
- Import CA function supports HSM, possible to create initial CA on HSM and initial admin on smart card.
- Soft CA keystores uses same framework as HSMs, possible to give private password to every soft CA.
- New options for specifying certificate validity, per end entity, fixed date etc.
- Possible to keep configuration/modifications in an external directory.
- Possible to use different profiles in CMP RA mode.
- you can now require approvals for revocation.
- Support multiple email altNames in admin-GUI.
- Option to choose reverse DN for a CA.
- Root-less install, using custom SSL truststore for JBoss/Tomcat.
- Lots of other small fixes and improvements, 69 issues resolved. 

For upgrade instructions, please se UPGRADE.

Because there are binary files in EJBCA_HOME/lib and many massive changes there is no patch file for upgrading
EJBCA 3.4.x to 3.5.0. Use the full package from EJBCA 3.5.0 and follow the upgrade instructions.

EJBCA 3.4.5
-----------
This is a patch release with only minor fixes.
Notable changes: 
- Now it is configurable which interface JBoss http service listens to, eases hardening.
- Fixed a bug where path validation failed when using a MS-CA as External Root CA.

Read the changelog for details.

This is a plug-in upgrade from 3.4.x. See UPGRADE for the simple instructions.

EJBCA 3.4.4
-----------
This is a patch release with only minor fixes.
Notable changes: 
- You can now use empty password to activate a HSM CA, which means that you can have operator cards without passwords, or that you can use module protected keys on the HSM (nCipher lingo). 
- The interesting function for generating OpenVPN installers automatically for users have a fix so it works and is tested again. 

Read the changelog for details.

This is a plug-in upgrade from 3.4.x. See UPGRADE for the simple instructions.

EJBCA 3.4.3
-----------
This is a patch release with some fixes and minor new features.
Notable new features are:
- Support for JBoss 4.2.x
- Support RSASHA256WithRSAAndMGF1 again, this algorithm was temporarily removed for a few versions due to code cleanups.
  Used mostly for electronic passports in EU.
- Support for JavaDB/Derby

The release contains binary file changes (new BC JCE provider) so no patch file is provided.

If you upgrade to JBoss 4.2.0 and have a customized conf/web.properties, 
remove web.jsfimpl from your conf/web.properties.

Read the changelog for details.

This is a plug-in upgrade from 3.4.x. See UPGRADE for the simple instructions.

Since there is a new version of the BC provider, you should run tests for yourself before upgrading
in production. We have run alot of tests, but can not guard against everying related to your environment.

EJBCA 3.4.2
-----------
This is a patch release with several fixes and minor new features. There are more issues fixed then normal in a 
patch release, but they are mostly minor features and supposedly safe fixes.  
Notable new features are:
- many enhancements for running EJBCA smoothly on both Weblogic and Glassfish
- fixes for enrollment in windows vista
- possibility to export a soft CA keystore
- a new publisher for publishing certificates and CRL with custom made scripts
- support for SCEP RA polling mode using the external RA module
- lots of small bug fixes

Read the changelog for details.

This is a plug-in upgrade from 3.4.x. See UPGRADE for the simple instructions.

EJBCA 3.4.1
-----------
This is a minor release with only two bug fixes.
Read the changelog for details.

This is a plug-in upgrade from 3.4.x. See UPGRADE for the simple instructions.

EJBCA 3.4.0
-----------
This is a major release with many new interesting features and framework improvements.
Read the changelog for details.

For upgrade instructions, please se UPGRADE.

Because there are binary files in EJBCA_HOME/lib and many massive changes there is no patch file for upgrading
EJBCA 3.3.x to 3.4.0. Use the full package from EJBCA 3.4.0 and follow the upgrade instructions.

Important changes:
In EJBCA 3.4.0 the default ASN.1 string encoding for DNs are now UTF8. In EJBCA 3.3.x and earlier, the default encoding was
PrintableString, unless the character set forced the usage of UTF8 (international characters). 
Now DN components are always encoded as UTF8 (except for components that does not allow UTF8 such as C and SerialNumber).
See UPGRADE for information regarding upgrading from an old CA, and how the behaviour can be configured.

If you used to deploy with 'deploywithjbossservices', this is now done using the regular 'deploy', but you have to set an option
in conf/ejbca.properties.

EJBCA 3.3.3
-----------
This is a minor release with some improvement, most notably for LDAP.
Read the changelog for details.

This is a plug-in upgrade from 3.3.x. See UPGRADE for the simple instructions.

EJBCA 3.3.2
-----------
This is a minor release with some bugfixes, most notably for oracle and weblogic.
Read the changelog for details.

This is a plug-in upgrade from 3.3.x. See UPGRADE for the simple instructions.

EJBCA 3.3.1
-----------
This is a minor release with some bugfixes, most notably for Luna HSM.
Read the changelog for details.

This is a plug-in upgrade from 3.3.0. See UPGRADE for the simple instructions.

EJBCA 3.3.0
-----------
This is a major release with new features, improvements and bugfixes.
Read the changelog for details.

This is a plug-in upgrade from 3.2.2. See UPGRADE for the simple instructions.

EJBCA 3.2.2
-----------
This is a minor release with minor improvements and some bugfixes, mostly for MS-SQL.
Read the changelog for details.

This is a plug-in upgrade from 3.2.1. See UPGRADE for the simple instructions.

EJBCA 3.2.1
-----------
This is a minor release with one new features and some bugfixes.
Read the changelog for details.

This is a plug-in upgrade from 3.2.0. See UPGRADE for the simple instructions.

EJBCA 3.2.0
-----------
This is a release with new enterprise features and an internal restucturing of the code base.
Read the changelog for details.

There are database upgrades in this version (from 3.1.x). 
See doc/UPGRADE for instruction how to upgrade your database.
You MUST do that!

Otherwise simply keep/copy ejbca.properties from the earlier installation.
Merge changes from ejbca.properties.sample into your ejbca.properties, 
specially datasource.jndi-name and datasource.jndi-name-prefix if you changed them from the default values.
Copy the directory 'p12' from the earlier installation and 'ant deploy' 
(or deploywithjbossservice) this new one.

Because there are binary files in EJBCA_HOME/lib and many massive changes there is no patch file for upgrading
EJBCA 3.1.3 to 3.2.0. Use the full package from EJBCA 3.2.0 and follow the upgrade instructions.

EJBCA V3.1.4
------------
This is a minor release with some new features and some bugfixes.
Read the changelog for details.

This is a plugin-upgrade from 3.1.3. Except for the following:
Merge changes from ejbca.properties.sample into your ejbca.properties, 
specially datasource.jndi-name and datasource.jndi-name-prefix if you changed them from the default values.

Otherwise simply keep/copy ejbca.properties from the earlier installation.
Merge changes from ejbca.properties.sample into your ejbca.properties.
Copy the directory 'p12' from the earlier installation and 'ant deploy' 
(or deploywithjbossservice) this new one.

EJBCA V3.1.3
------------
This is a minor release with some new features and some bugfixes.
Read the changelog for details.

This is a plugin-upgrade from 3.1.2.
Simply keep/copy ejbca.properties from the earlier installation, 
copy the directory 'p12' from the earlier installation and 'ant deploy' 
(or deploywithjbossservice) this new one.

Note that to fix ECA-144, 148 and 75, new version of lib/bcmail*.jar and
lib/bcprov*.jar are used. Since they are binary files they are not
included in the patch from version 3.1.2 to 3.1.3. You can use the patch and
manually replace the jar-files from the full distribution.

The 3.1.3 release have support for RSASSA-PSS signatures to conform to the 
Swedish standard for MRTD certificates (Electronic Passports). 
The RSASSA-PSS parameters can be seen and edited in the file
src/java/se/anatom/ejbca/ca/caadmin/ExtendedX509Util.java.15 

IMPORTANT, compliation using jdk1.5 is required for this algorithm. 
Otherwise this algorithm option won't show up

Enhanced support for international characters in the adminweb gui (Add/Edit pages). 
Should work with most languages now.

It's now also possible to select a subset of a users SubjectDN and SubjectAltName 
fields used in a particular kind of certificate. This is defined in the certificate profiles

EJBCA V3.1.2
------------
This is a minor release with two new features and some bugfixes.
Read the changelog for details.

This is a plugin-upgrade from 3.1/3.1.1.
Simply keep ejbca.properties from the earlier release, and 'ant deploy' this
new one.

Note that to fix ECA-126, new version of lib/bcmail-jdk14.jar and
lib/bcprov-jdk14.jar are used. Since they are binary files they are not
included in the patch from version 3.1 to 3.1.2. You can use the patch and
manually replace the jar-files.


EJBCA V3.1.1
------------
This is a minor release with a few small bugfixes found in the 3.1 release.
Read the changelog for details.

This is a plugin-upgrade from 3.1.

EJBCA V3.1
----------
This is a major release including many new features, improvements, and bug fixes. 
Read the full changelog.
We are very proud of this release and recommend an upgrade.

This is mostly a plugin-upgrade from 3.0.7, no database changes needed. 

Since the changes are massive, no patch file is provided. 

To upgrade from 3.0.x follow doc/UPGRADE. 
Please read this carefully!

EJBCA V3.0.7
------------
This is a plugin-upgrade from 3.0.6 or 3.0.5. 
Apply patch, build and redeploy.

EJBCA V3.0.6
------------

This is a plugin-upgrade from 3.0.5. 
Apply patch, build and redeploy.

If you are using the hard token stuff on MySQL (which you probably aren't or you would have noticed 
this bug), you should drop the table HardTokenData and restart JBoss to recreate the table.

EJBCA V3.0.5
------------

This is a plugin-upgrade from 3.0.4. 
Apply patch, build and redeploy.

For users of MS SQL 2000 you should note the column name 'rule_' (earlier 'rule' which is 
a reserved word) in the table AccessRulesData.

EJBCA V3.0.4
------------

This is a plugin-upgrade from 3.0.3. 
Apply patch, build and redeploy.

EJBCA V3.0.3
------------

The database table 'hardtokenprofiledata' using the database HypersonicSQL changed. 
If you are using the hardtoken functionality on the HypersonicSQL database
(which you should not be doing in production), the table must be removed and
recreated. No migration script is provided since we don't anticipate anyone using
this combination in production.

EJBCA V3.0
----------
EJBCA 3.0 is a major new release taking the Open Source CA to new heights. 
The most important improvment is that it is now possible to run several
PKI infrastructures within one single instance of EJBCA. Among other major improvements are also 
complete support for OCSP, enanced Hard token interface and flexible 
LDAP configuration through the Web-GUI.

This is a plugin-upgrade from beta3.

This release is not backwards compatible with EJBCA 2.1 without database upgrade.
Upgrade instructions must be followed if upgrading from EJBCA 2.1, 
backup your database before trying any upgrades.

EJBCA V3.0Beta3
---------------
This is a plugin-upgrade from beta2.
There is an upgrade function from EJBCA2->EJBCA3 for the MySQL database, see doc/UPGRADE.

EJBCA V3.0Beta2
---------------
Thanks to a bug in Beta1 the database table 'HardTokenPropertyData' has changed. If you have been
using the HardToken features in Beta1, or plan to use them in the future, this table must be rebuilt.
'drop table hardtokenpropertydata' will delete and rebuild the table (data must be entered again).

Apart from this, it is a plug-in upgrade.

EJBCA V3.0beta1
---------------
EJBCA 3.0 is a major new release taking the Open Source CA to new heights. 
The most noteworthy change is that it is now possible to run a complete (or several)
PKI infrastructure within one single instance of EJBCA.

This release is not backwards compatible with EJBCA 2.1 without database upgrade.
Upgrade instructions must be followed if upgrading from EJBCA 2.1, 
backup your database before trying any upgrades.

The (default) LDAP schema has been changed to follow RFC 2256. If using LDAP, 
the schema should be checked. You can configure the schema 
(in ca/ca/META-INF/ejb-jar.xml) to be the same as before if needed.

EJBCA V2.1.2
------------
This is a plugin upgrade from V2.1.

The (default) LDAP schema has been changed to follow RFC 2256. If using LDAP, 
the schema should be checked. You can configure the schema 
(in ca/ca/META-INF/ejb-jar.xml) to be the same as before if needed. See HOWTO-LDAP.txt.

EJBCA V2.1.1
------------
This is a plugin upgrade from V2.1.

EJBCA V2.1
----------
New method to revoke certificates with external publishers.

EJBCA V2.0.1
------------

Except from notes below this is a plugin upgrade from v2.0.

Java >= 1.4 is now required.

Delete bcmail-jdk13*, jce-jdk13*, ldap.jar and regexp1_0_0.jar
from $JBOSS_HOME/server/default/lib.

EJBCA V2.0
----------
Name of initial temporary super administrator changed from "CN=
Walter" to "CN=
SuperAdmin". A new must be created.

All defined administrator privileges must be redefined.

Certificate profiles should be redefined.

Drop tables GlobalConfigurationData, AdminGroupData,
AdminEntityData,
AccessRulesData and EndEntityProfileData to flush configuration
and
administrator privileges (actually deleting the content would be
enough but you
might as well drop the tables).

Delete bcmail-jdk13-116.jar, jce-jdk13-116.jar, ldap.jar and
regexp1_0_0.jar from $JBOSS_HOME/server/default/lib.

EJBCA V2.0B1
----------
We have moved to EJB 2.0. JBoss 3 is now required.
A complete reinstall from EJBCA 1.x is required, old jars, wars
and ears must be
deleted.
Database schema has changed, old data in the database must be
migrated.
A Web GUI for administration is available through https, see
doc/README for
installation instructions.

EJBCA V1.3
----------
This is a plugin upgrade from v1.2 or 1.1. Just build and deploy
the new
files.

EJBCA V1.2
----------
This is a plugin upgrade from v1.1. Just build and deploy the
new
files.

EJBCA V1.1
----------

Upgrading from version 1.0:

If upgrading from version 1.0 the database tables need to be
migrated if the
DN attributes L or ST have been used. This is because the
ordering of those
attributes have changed (for string matching the order must be
defined).

If L or ST have not been used in DNs, migration is NOT needed.

What need to be done are to:
1. Read column with DN to me migrated from table.
2. Run 'newDN=CertTools.stringToBCDNString(oldDN)'.
3. Update column with DN in table.

Columns that need updating are:
issuerDN in table CRLData
subjectDN, issuerDN in table CertificateData
subjectDN in table UserData.

If a tool is needed to perform the migration, please contact us.
See http://sourceforge.net/projects/ejbca






